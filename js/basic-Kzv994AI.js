var C=Object.defineProperty;var M=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var L=(o,a,e)=>a in o?C(o,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[a]=e,w=(o,a)=>{for(var e in a||(a={}))E.call(a,e)&&L(o,e,a[e]);if(M)for(var e of M(a))W.call(a,e)&&L(o,e,a[e]);return o};var v=(o,a,e)=>new Promise((l,s)=>{var c=n=>{try{t(e.next(n))}catch(i){s(i)}},f=n=>{try{t(e.throw(n))}catch(i){s(i)}},t=n=>n.done?l(n.value):Promise.resolve(n.value).then(c,f);t((e=e.apply(o,a)).next())});import{g as O,aU as z,q as U,aV as q,aW as H,e as j,$ as I,aX as D,aY as G,a as Z,V as $}from"./bootstrap-B4Rgd2ZL.js";import{O as b,aj as X,a6 as F,w as J,a1 as N,$ as Q,ad as A,ba as Y,bb as K,V as T,J as x,ae as R,af as ee,v as m,ap as h,a3 as r,ag as ae,ao as te,a0 as P,bN as B}from"../jse/index-index-CDbZGWEW.js";import{u as oe,_ as se,N as ne,a as re,b as le}from"./layout.vue_vue_type_script_setup_true_lang-7aSZbg8E.js";import{_ as ie}from"./avatar.vue_vue_type_script_setup_true_lang-CMe-4mP4.js";import"./theme-toggle.vue_vue_type_script_setup_true_lang-LyFKmpP_.js";import"./TabsList.vue_vue_type_script_setup_true_lang-BkKp1d2Y.js";import"./rotate-cw-V1hOLXiT.js";const ue=O("BookOpenTextIcon",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M16 12h2",key:"7q9ll5"}],["path",{d:"M16 8h2",key:"msurwy"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}],["path",{d:"M6 12h2",key:"32wvfc"}],["path",{d:"M6 8h2",key:"30oboj"}]]),p=b(),S=b(!1),k=b({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function ce(){function o(l){return v(this,null,function*(){var c;const{Watermark:s}=yield Q(()=>v(this,null,function*(){const{Watermark:f}=yield import("./index.esm-onHbvng2.js");return{Watermark:f}}),[]);k.value=w(w({},k.value),l),p.value=new s(k.value),N({app:{watermark:!0}}),yield(c=p.value)==null?void 0:c.create()})}function a(l){return v(this,null,function*(){var s;p.value?(yield J(),yield(s=p.value)==null?void 0:s.changeOptions(w(w({},k.value),l))):yield o(l)})}function e(){p.value&&(p.value.destroy(),p.value=void 0),N({app:{watermark:!1}})}return S.value||(S.value=!0,X(()=>{e()})),{destroyWatermark:e,updateWatermark:a,watermark:F(p)}}const de=A({name:"LoginExpiredModal",__name:"login-expired-modal",props:Y({avatar:{default:""},zIndex:{default:0},codeLoginPath:{},forgetPasswordPath:{},loading:{type:Boolean},qrCodeLoginPath:{},registerPath:{},showCodeLogin:{type:Boolean},showForgetPassword:{type:Boolean},showQrcodeLogin:{type:Boolean},showRegister:{type:Boolean},showRememberMe:{type:Boolean},showThirdPartyLogin:{type:Boolean},subTitle:{},title:{},submitButtonText:{}},{open:{type:Boolean},openModifiers:{}}),emits:["update:open"],setup(o){const a=o,e=K(o,"open"),[l,s]=oe();T(()=>e.value,t=>{s.setState({isOpen:t})});const c=x(()=>a.zIndex||f());function f(){let t=0;return[...document.querySelectorAll("*")].forEach(i=>{const g=window.getComputedStyle(i).getPropertyValue("z-index");g&&!Number.isNaN(Number.parseInt(g))&&(t=Math.max(t,Number.parseInt(g)))}),t+1}return(t,n)=>(R(),ee("div",null,[m(r(l),{closable:!1,"close-on-click-modal":!1,"close-on-press-escape":!1,footer:!1,"fullscreen-button":!1,header:!1,"z-index":c.value,class:"border-none px-10 py-6 text-center shadow-xl sm:w-[600px] sm:rounded-2xl md:h-[unset]"},{default:h(()=>[m(r(ie),{src:t.avatar,class:"mx-auto mb-6 size-20"},null,8,["src"]),m(r(z),{"show-forget-password":!1,"show-register":!1,"show-remember-me":!1,"sub-title":t.$t("authentication.loginAgainSubTitle"),title:t.$t("authentication.loginAgainTitle")},{default:h(()=>[ae(t.$slots,"default")]),_:3},8,["sub-title","title"])]),_:3},8,["z-index"])]))}}),_e=A({__name:"basic",setup(o){const a=b([{avatar:"https://avatar.vercel.sh/vercel.svg?text=VB",date:"3小时前",isRead:!0,message:"描述信息描述信息描述信息",title:"收到了 14 份新周报"},{avatar:"https://avatar.vercel.sh/1",date:"刚刚",isRead:!1,message:"描述信息描述信息描述信息",title:"朱偏右 回复了你"},{avatar:"https://avatar.vercel.sh/1",date:"2024-01-01",isRead:!1,message:"描述信息描述信息描述信息",title:"曲丽丽 评论了你"},{avatar:"https://avatar.vercel.sh/satori",date:"1天前",isRead:!1,message:"描述信息描述信息描述信息",title:"代办提醒"}]),e=U(),l=q(),s=H(),{destroyWatermark:c,updateWatermark:f}=ce(),t=x(()=>a.value.some(u=>!u.isRead)),n=x(()=>[{handler:()=>{B(Z,{target:"_blank"})},icon:ue,text:I("ui.widgets.document")},{handler:()=>{B($,{target:"_blank"})},icon:D,text:"GitHub"},{handler:()=>{B(`${$}/issues`,{target:"_blank"})},icon:G,text:I("ui.widgets.qa")}]),i=x(()=>{var u,d;return(d=(u=e.userInfo)==null?void 0:u.avatar)!=null?d:P.app.defaultAvatar});function y(){return v(this,null,function*(){yield l.logout(!1)})}function g(){a.value=[]}function V(){a.value.forEach(u=>u.isRead=!0)}return T(()=>P.app.watermark,u=>v(this,null,function*(){var d;u?yield f({content:`${(d=e.userInfo)==null?void 0:d.username}`}):c()}),{immediate:!0}),(u,d)=>(R(),te(r(le),{onClearPreferencesAndLogout:y},{"user-dropdown":h(()=>{var _;return[m(r(se),{avatar:i.value,menus:n.value,text:(_=r(e).userInfo)==null?void 0:_.realName,description:"ann.vben@gmail.com","tag-text":"Pro",onLogout:y},null,8,["avatar","menus","text"])]}),notification:h(()=>[m(r(ne),{dot:t.value,notifications:a.value,onClear:g,onMakeAll:V},null,8,["dot","notifications"])]),extra:h(()=>[m(r(de),{open:r(s).loginExpired,"onUpdate:open":d[0]||(d[0]=_=>r(s).loginExpired=_),avatar:i.value},{default:h(()=>[m(j)]),_:1},8,["open","avatar"])]),"lock-screen":h(()=>[m(r(re),{avatar:i.value,onToLogin:y},null,8,["avatar"])]),_:1}))}});export{_e as default};
